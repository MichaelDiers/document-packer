<!-- ReSharper disable Xaml.IndexOutOfGridDefinition -->
<mvvm:BaseUserControl
    x:Class="DocumentPacker.Parts.Main.EncryptPart.EncryptView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mvvm="clr-namespace:DocumentPacker.Mvvm"
    xmlns:encryptPart="clr-namespace:DocumentPacker.Parts.Main.EncryptPart"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:dependencyProperties="clr-namespace:Libs.Wpf.DependencyProperties;assembly=Libs.Wpf"
    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:behaviours="clr-namespace:Libs.Wpf.Behaviours;assembly=Libs.Wpf"
    mc:Ignorable="d"
    d:DataContext="{d:DesignInstance Type=encryptPart:EncryptViewModel, IsDesignTimeCreatable=False}"
    Template="{StaticResource MainContentControlTemplate}">
    <mvvm:BaseUserControl.Resources></mvvm:BaseUserControl.Resources>
    <Grid
        dependencyProperties:GridRowsDependencyProperty.GridRows="Auto|Auto|Auto|Auto|Auto|Auto|Auto|Auto"
        dependencyProperties:GridColumnsDependencyProperty.GridColumns="Auto|*">
        <!-- configuration file -->
        <Border
            Grid.Row="0"
            Grid.RowSpan="3"
            Grid.Column="0"
            Grid.ColumnSpan="2"
            Background="Aqua"
            CornerRadius="8" />
        <Label
            Grid.Row="0"
            Grid.Column="0"
            DataContext="{Binding ConfigurationFile}" />
        <Grid
            Grid.Row="0"
            Grid.Column="1"
            dependencyProperties:GridColumnsDependencyProperty.GridColumns="*|Auto">
            <TextBox
                Grid.Column="0"
                DataContext="{Binding ConfigurationFile}">
                <b:Interaction.Behaviors>
                    <behaviours:FilePathDragAndDropTextBoxBehavior />
                </b:Interaction.Behaviors>
            </TextBox>
            <Button
                Grid.Column="1"
                DataContext="{Binding SelectConfigurationFileCommand}" />
        </Grid>
        <!-- password -->
        <Label
            Grid.Row="1"
            Grid.Column="0"
            DataContext="{Binding Password}" />
        <PasswordBox
            Grid.Row="1"
            Grid.Column="1"
            x:Name="PasswordBox"
            DataContext="{Binding Password}" />
        <!-- load configuration -->
        <Button
            Grid.Row="2"
            Grid.Column="1"
            CommandParameter="{Binding ElementName=PasswordBox}"
            DataContext="{Binding LoadConfigurationCommand}"
            HorizontalAlignment="Right" />
        <ContentControl
            Grid.Row="4"
            Grid.Column="0"
            Grid.ColumnSpan="2"
            DataContext="{Binding EncryptDataViewModel}">
            <ContentControl.Style>
                <Style
                    TargetType="ContentControl">
                    <Setter
                        Property="Content">
                        <Setter.Value>
                            <encryptPart:EncryptDataView />
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <DataTrigger
                            Binding="{Binding }"
                            Value="{x:Null}">
                            <Setter
                                Property="Content"
                                Value="{x:Null}" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentControl.Style>
        </ContentControl>
        <!-- output folder-->
        <Label
            Grid.Row="5"
            Grid.Column="0"
            DataContext="{Binding OutputFolder}" />
        <Grid
            Grid.Row="5"
            Grid.Column="1"
            dependencyProperties:GridColumnsDependencyProperty.GridColumns="*|Auto">
            <TextBox
                Grid.Column="0"
                DataContext="{Binding OutputFolder}">
                <b:Interaction.Behaviors>
                    <behaviours:FolderPathDragAndDropTextBoxBehavior />
                </b:Interaction.Behaviors>
            </TextBox>
            <Button
                Grid.Column="1"
                DataContext="{Binding SelectOutputFolderCommand}" />
        </Grid>
        <!-- output file-->
        <Label
            Grid.Row="6"
            Grid.Column="0"
            DataContext="{Binding OutputFile}" />
        <TextBox
            Grid.Row="6"
            Grid.Column="1"
            DataContext="{Binding OutputFile}" />
        <!-- save -->
        <Button
            Grid.Row="7"
            Grid.Column="1"
            DataContext="{Binding SaveCommand}" />
    </Grid>
</mvvm:BaseUserControl>
<!-- ReSharper restore Xaml.IndexOutOfGridDefinition -->
